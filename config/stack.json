{
	"region" : "us-west-2",
	"security_groups" : [
		"github",
		"meerkat_private",
		"s3cmd"
	],
	"ami-id" : "ami-178cce27",
	"key_name" : "meerkat",
	"key_file" : "/root/.ssh/meerkat.pem",
	"instance_type" : "m3.2xlarge",
	"minimum_master_nodes" : 1,
	"instance_layout" : {
		"masters" : 4,
		"hybrids" : 0,
		"slaves" : 96
	},
	"placement" : "us-west-2b",
	"block_device_mapping" : [
		{ "name" : "ephemeral0", "mount": "/dev/sdb" },
		{ "name" : "ephemeral1", "mount": "/dev/sdc" }
	],
	"ebs_mapping" : [
		{ "snapshot-id": "snap-747466bd", "mount" : "/dev/sdf" }
	],
	"mount_data_commands" : [
		"mkdir -p /data/0",
		"mkdir -p /data/1",
		"mkdir -p /data/2",
		"mount /dev/xvdb /data/0",
		"mount /dev/xvdc /data/1",
		"mount /dev/xvdf /data/2",
		"mkdir -p /data/0/input",
		"mkdir -p /data/0/output",
		"mkdir -p /data/1/input",
		"mkdir -p /data/1/output",
		"mkdir -p /data/1/error",
		"mkdir -p /data/2/input",
		"mkdir -p /data/2/output",
		"mkdir -p /data/1/log/elasticsearch",
		"chown -R elasticsearch /data",
		"df | grep 'data'"
	],
	"configure_master_commands" : [
		"sed -i 's/__NODE_MASTER/true/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's/__NODE_DATA/false/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's:__ES_DATA_PATH:/data/2:' /etc/elasticsearch/elasticsearch.yml",
		"service elasticsearch start"
	],
	"configure_slave_commands" : [
		"sed -i 's/__NODE_MASTER/false/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's/__NODE_DATA/true/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's:__ES_DATA_PATH:/data/2:' /etc/elasticsearch/elasticsearch.yml",
		"service elasticsearch start"
	],
	"configure_hybrid_commands" : [
		"sed -i 's/__NODE_MASTER/true/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's/__NODE_DATA/true/' /etc/elasticsearch/elasticsearch.yml",
		"sed -i 's:__ES_DATA_PATH:/data/2:' /etc/elasticsearch/elasticsearch.yml",
		"service elasticsearch start"
	],
	"template_files" : {
		"path" : "/root/git/Meerkat/config/templates/",
		"elasticsearch_yml" : "elasticsearch.yml.template",
		"search" : "search.json.template",
		"load" : "load.json.template",
		"merge" : "merge.json.template"
	}
}
